import{_ as A}from"./J-riIzC_.js";import{d as D,y as _,q as E,a5 as F,G as V,O as H,o,D as u,z as s,w as p,e as t,c as b,K as q,F as G,b as c,f as y,t as l,n as w,J,_ as K}from"./DMNZWCky.js";import{C as O,I as R}from"./C8ev1qd6.js";import{P as U,N as g,a as j,S as x}from"./tcETOvty.js";import{B}from"./C6wAN15y.js";const Q={key:0,autoplay:"",loop:"",muted:"",playsinline:""},W=["src"],X=["src"],Y=["innerHTML"],Z=D({__name:"SliderPopup",props:{modelValue:{type:Boolean},buttons:{},mediaType:{default:"img"},steps:{},backBtnIsAlwaysVisible:{type:Boolean,default:!1},finishBtnText:{},inverted:{type:Boolean,default:!1}},emits:["update:modelValue","action:backBtn","close"],setup($,{emit:I}){const m=$,N=_(()=>n.value===m.steps.length-1),{t:f}=E();let k=F({speed:600,modules:[U,g],loop:!1});const i=V(),P=e=>{i.value=e},n=_(()=>{var e;return(e=i.value)==null?void 0:e.activeIndex}),S=_(()=>n.value+1),C=()=>{if(n.value<1&&m.backBtnIsAlwaysVisible)return v("action:backBtn"),!0},T=()=>{i.value.slideNext()},z=()=>{C()||i.value.slidePrev()},v=I,r=V(!1),h=e=>{v("update:modelValue",e),v("close")};return H(()=>m.modelValue,e=>{r.value=e},{immediate:!0}),(e,d)=>{const L=A;return o(),u(O,{modelValue:t(r),"onUpdate:modelValue":[d[1]||(d[1]=a=>J(r)?r.value=a:null),h],inverted:e.inverted},{default:s(()=>[p(L,null,{default:s(()=>[p(t(j),{speed:t(k).speed,modules:[t(g)],loop:t(k).loop,onSwiper:P},{default:s(()=>[(o(!0),b(G,null,q(e.steps,(a,M)=>(o(),u(t(x),{key:M},{default:s(()=>[p(R,{title:a.title},{media:s(()=>[e.mediaType==="video"?(o(),b("video",Q,[c("source",{src:a.media,type:"video/mp4"},null,8,W)])):(o(),b("img",{key:1,src:a.media},null,8,X))]),info:s(()=>[c("div",{class:w(e.$style.counter)},l(t(n)+1)+" "+l(t(f)("misc.from"))+" "+l(e.steps.length),3)]),text:s(()=>[c("div",{innerHTML:a.text},null,8,Y)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1},8,["speed","modules","loop"])]),_:1}),c("div",{class:w(e.$style.footer)},[p(B,{size:"m",wide:!1,variant:"ghost",class:w([(t(n)>0||e.backBtnIsAlwaysVisible)&&e.$style.visible,e.$style.prev]),"data-test":e.$attrs["data-test"]&&e.$attrs["data-test"]+"-slides-prev-button-"+t(S),onClick:z},{default:s(()=>[y(l(t(f)("onboarding.buttons.back_btn")),1)]),_:1},8,["class","data-test"]),t(N)?(o(),u(B,{key:0,size:"m",wide:!1,"data-test":e.$attrs["data-test"]&&e.$attrs["data-test"]+"-slides-close-button",onClick:d[0]||(d[0]=a=>h(!1))},{default:s(()=>[y(l(e.finishBtnText),1)]),_:1},8,["data-test"])):(o(),u(B,{key:1,size:"m",wide:!1,"data-test":e.$attrs["data-test"]&&e.$attrs["data-test"]+"-slides-next-button-"+t(S),onClick:T},{default:s(()=>[y(l(t(f)("onboarding.buttons.forward_btn")),1)]),_:1},8,["data-test"]))],2)]),_:1},8,["modelValue","inverted"])}}}),ee="_prev_1hlv4_2",te="_visible_1hlv4_6",se="_counter_1hlv4_10",ae="_footer_1hlv4_16",oe={prev:ee,visible:te,counter:se,footer:ae},le={$style:oe},pe=K(Z,[["__cssModules",le]]);export{pe as S};
//# sourceMappingURL=yFgAAr-i.js.map
